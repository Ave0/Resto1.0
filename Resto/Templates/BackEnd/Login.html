<!DOCTYPE html>


<html>
{%load staticfiles %}
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Gestor | Log in</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <meta name="google-signin-scope" content="profile email">
    <meta name="google-signin-client_id" content="1099423570733-d619m4ek02o1pk17kq5s3ofb4fon4m62.apps.googleusercontent.com">
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <!-- Bootstrap 3.3.5 -->
    <link rel="stylesheet" href="{% static 'Back/bootstrap/css/bootstrap.min.css'  %}">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="{% static 'Back/dist/css/fontawesome/css/font-awesome.min.css'%}">
    <!-- Ionicons -->
    <link rel="stylesheet" href="{% static 'Back/dist/css/ionicons.min.css'  %}">  
    <!-- Theme style -->
    <link rel="stylesheet" href="{% static 'Back/dist/css/AdminLTE.min.css'  %}">
    <!-- iCheck -->
    <link rel="stylesheet" href="{% static 'Back/plugins/iCheck/square/blue.css'  %}">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body class="hold-transition login-page">
    <div class="login-box">
      <div class="login-logo">
        <a ><b>Admin</b>H8</a>
      </div><!-- /.login-logo -->
      {% autoescape off %}{{ Alerta }}{% endautoescape %}
      <div class="login-box-body">
        <p class="login-box-msg">Inicie Sesión</p>
        <form action="/BackEnd/Login/" method="post">
           {% csrf_token %}
          <div class="form-group has-feedback">
            <input name="username" type="text" class="form-control" placeholder="Usuario">
            <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
          </div>
          <div class="form-group has-feedback">
          	
            <input name="password" type="password" class="form-control" placeholder="Contraseña">
            <span class="glyphicon glyphicon-lock form-control-feedback"></span>
          </div>
          <div class="row">
            <div class="col-xs-8">
              <div class="checkbox icheck">
                <label class="">
                  <div class="icheckbox_square-blue" aria-checked="false" aria-disabled="false" style="position: relative;"><input type="checkbox" style="position: absolute; top: -20%; left: -20%; display: block; width: 140%; height: 140%; margin: 0px; padding: 0px; border: 0px; opacity: 0; background: rgb(255, 255, 255);"><ins class="iCheck-helper" style="position: absolute; top: -20%; left: -20%; display: block; width: 140%; height: 140%; margin: 0px; padding: 0px; border: 0px; opacity: 0; background: rgb(255, 255, 255);"></ins></div> Recordarme
                </label>
              </div>
            </div><!-- /.col -->
            <div class="col-xs-4">
              <button type="submit" class="btn btn-primary btn-block btn-flat">Acceder</button>
                      <div class="g-signin2" data-onsuccess="onSignIn" data-theme="dark"></div>
              
            </div><!-- /.col -->
          </div>
        </form>

        <!-- /.social-auth-links -->

        <a href="#">Olvide mi contraseña</a><br>
        <a href="/BackEnd/Registrar" class="text-center">Registrar nuevo  usuario</a>

      </div><!-- /.login-box-body -->
    </div><!-- /.login-box -->

    <!-- jQuery 2.1.4 -->
    <script src="{% static 'Back/plugins/jQuery/jQuery-2.1.4.min.js'%} "></script>
    <!-- Bootstrap 3.3.5 -->
    <script src="{% static 'Back/bootstrap/js/bootstrap.min.js'%}"></script>
    <!-- iCheck -->
    <script src="{% static 'Back/plugins/iCheck/icheck.min.js'%} "></script>
    <script>
      $(function () {
        $('input').iCheck({
          checkboxClass: 'icheckbox_square-blue',
          radioClass: 'iradio_square-blue',
          increaseArea: '20%' // optional
        });
      });
    </script>
  <script src="https://www.gstatic.com/firebasejs/3.4.0/firebase.js"></script>
 <script src="https://apis.google.com/js/platform.js" async defer></script>
 
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyBk-yN2y2ri1MG8mw5sIUWHQv5Sn2i_JEE",
    authDomain: "kibaapp-9608a.firebaseapp.com",
    databaseURL: "https://kibaapp-9608a.firebaseio.com",
    projectId: "kibaapp-9608a",
    storageBucket: "kibaapp-9608a.appspot.com",
    messagingSenderId: "1099423570733"
  };
  firebase.initializeApp(config);
  var provider = new firebase.auth.GoogleAuthProvider();
  provider.addScope('https://www.googleapis.com/auth/plus.login');
  firebase.auth().signInWithPopup(provider).then(function(result) {
	  // This gives you a Google Access Token. You can use it to access the Google API.
	  var token = result.credential.accessToken;
	  console.log(token+ "Este es el token ");
	  // The signed-in user info.
	
	
	  var user=result.user

	  console.log("Este es el user  u el correo: " +user.email);
	  console.log("Este es el user  displayName" +user.displayName);
	  console.log("Este es el user  photorul" +user.photoURL);
	  console.log("Este es el user  u el uid" +user.uid);
	  var provider = user.providerData;
	  var longitud=provider.length;
	  for (var i = 0; i < longitud; i++) {
		  console.log("Este es el user  u el provider" +provider[i].providerId);
		    //Do something
		}



	  // ...
	}).catch(function(error) {
		
		
	  // Handle Errors here.
	  var errorCode = error.code;
	  var errorMessage = error.message;
	  // The email of the user's account used.
	  var email = error.email;
	  // The firebase.auth.AuthCredential type that was used.
	  var credential = error.credential;
	  console.log("HUbo un error:"+errorMessage)
	  // ...
	});

</script> 
  

</body></html>